# esp32-ir-sensor-basic
‡πÇ‡∏Ñ‡∏£‡∏á‡∏á‡∏≤‡∏ô‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô ESP32 ‡∏£‡πà‡∏ß‡∏°‡∏Å‡∏±‡∏ö IR Sensor ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏ï‡∏£‡∏ß‡∏à‡∏à‡∏±‡∏ö‡∏ß‡∏±‡∏ï‡∏ñ‡∏∏ ‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏°‡∏µ‡∏ß‡∏±‡∏ï‡∏ñ‡∏∏‡∏ú‡πà‡∏≤‡∏ô‡∏à‡∏∞‡∏™‡∏±‡πà‡∏á‡πÉ‡∏´‡πâ LED ‡∏™‡∏ß‡πà‡∏≤‡∏á‡∏Ñ‡πâ‡∏≤‡∏á 5 ‡∏ß‡∏¥‡∏ô‡∏≤‡∏ó‡∏µ ‡∏´‡∏≤‡∏Å‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏ß‡∏±‡∏ï‡∏ñ‡∏∏‡∏à‡∏∞‡πÉ‡∏´‡πâ LED ‡∏Å‡∏£‡∏∞‡∏û‡∏£‡∏¥‡∏ö‡∏ó‡∏∏‡∏Å ‡πÜ 500ms
# ESP32 + IR Sensor Project

‡πÇ‡∏Ñ‡∏£‡∏á‡∏á‡∏≤‡∏ô‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô **ESP32 ‡∏£‡πà‡∏ß‡∏°‡∏Å‡∏±‡∏ö IR Sensor** ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏ï‡∏£‡∏ß‡∏à‡∏à‡∏±‡∏ö‡∏ß‡∏±‡∏ï‡∏ñ‡∏∏ ‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏°‡∏µ‡∏ß‡∏±‡∏ï‡∏ñ‡∏∏‡∏ú‡πà‡∏≤‡∏ô‡∏à‡∏∞‡∏™‡∏±‡πà‡∏á‡πÉ‡∏´‡πâ **LED ‡∏™‡∏ß‡πà‡∏≤‡∏á‡∏Ñ‡πâ‡∏≤‡∏á 5 ‡∏ß‡∏¥‡∏ô‡∏≤‡∏ó‡∏µ** ‡∏´‡∏≤‡∏Å‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏ß‡∏±‡∏ï‡∏ñ‡∏∏‡∏à‡∏∞‡πÉ‡∏´‡πâ **LED ‡∏Å‡∏£‡∏∞‡∏û‡∏£‡∏¥‡∏ö‡∏ó‡∏∏‡∏Å ‡πÜ 500ms**

üìñ ‡∏≠‡πà‡∏≤‡∏ô‡∏ö‡∏ó‡∏Ñ‡∏ß‡∏≤‡∏°‡∏≠‡∏ò‡∏¥‡∏ö‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î‡∏ó‡∏µ‡πà [ESP32 IR Sensor ‚Äì devadiy.com](https://devadiy.com/esp32-ir-sensor/)  
üåê ‡πÅ‡∏´‡∏•‡πà‡∏á‡∏£‡∏ß‡∏°‡πÇ‡∏Ñ‡∏£‡∏á‡∏á‡∏≤‡∏ô ESP32 ‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÄ‡∏ï‡∏¥‡∏°‡∏ó‡∏µ‡πà [Deva DIY](https://devadiy.com/)

---

## Hardware ‡∏ó‡∏µ‡πà‡πÉ‡∏ä‡πâ
- ESP32 DevKit V1
- IR Sensor (‡πÇ‡∏°‡∏î‡∏π‡∏•‡∏ï‡∏£‡∏ß‡∏à‡∏à‡∏±‡∏ö‡∏ß‡∏±‡∏ï‡∏ñ‡∏∏‡∏≠‡∏¥‡∏ô‡∏ü‡∏£‡∏≤‡πÄ‡∏£‡∏î)
- LED + ‡∏ï‡∏±‡∏ß‡∏ï‡πâ‡∏≤‡∏ô‡∏ó‡∏≤‡∏ô 220Œ©
- ‡∏™‡∏≤‡∏¢ Jumper

---

## ‡∏Å‡∏≤‡∏£‡∏ï‡πà‡∏≠‡∏ß‡∏á‡∏à‡∏£
- IR Sensor ‚Üí GPIO32 (Sensor Input)  
- LED ‚Üí GPIO25 (Output)

---

## Source Code

```cpp
/* Deva DIY */
 
// ‡∏Å‡∏≥‡∏´‡∏ô‡∏î GPIOs ‡∏Ç‡∏≠‡∏á Sensor ‡πÅ‡∏•‡∏∞ LED
const int led = 25;
const int Sensor = 32;
 
// ‡∏ï‡∏±‡∏ß‡πÅ‡∏õ‡∏£ Timer
uint32_t now_time = millis(); // ‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡πÄ‡∏ß‡∏•‡∏≤‡∏õ‡∏±‡∏à‡∏à‡∏∏‡∏ö‡∏±‡∏ô‡∏ó‡∏µ‡πà‡∏ó‡∏≥‡∏á‡∏≤‡∏ô
uint32_t lasttime_trigger = 0;   // ‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡πÄ‡∏ß‡∏•‡∏≤‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏ï‡∏£‡∏ß‡∏à‡∏à‡∏±‡∏ö‡∏ß‡∏±‡∏ï‡∏ñ‡∏∏
uint32_t led_time = 0; // ‡πÄ‡∏ß‡∏•‡∏≤‡∏Å‡∏£‡∏∞‡∏û‡∏£‡∏¥‡∏ö LED
 
// Flag ‡πÄ‡∏°‡∏∑‡πà‡∏≠‡πÄ‡∏Å‡∏¥‡∏î interrupt ‡∏Å‡∏≥‡∏´‡∏ô‡∏î‡πÄ‡∏õ‡πá‡∏ô True
bool Sensor_Check = false;
 
// ‡∏ï‡∏±‡∏ß‡πÅ‡∏õ‡∏£‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞ HIGH or LOW LED
int State_led = 0;
 
// ‡πÄ‡∏°‡∏∑‡πà‡∏≠‡πÄ‡∏ã‡∏ô‡πÄ‡∏ã‡∏≠‡∏£‡πå‡∏ï‡∏£‡∏ß‡∏à‡∏û‡∏ö‡∏ß‡∏±‡∏ï‡∏ñ‡∏∏‡∏ï‡∏±‡∏î‡∏ú‡πà‡∏≤‡∏ô ‡πÄ‡∏Å‡∏¥‡∏î Interrupt
void IRAM_ATTR IRSensordetects() {
  Sensor_Check = true;
  lasttime_trigger = millis() + 5000;
}
 
void setup() {
  Serial.begin(115200);
 
  // ‡∏Å‡∏≥‡∏´‡∏ô‡∏î‡πÉ‡∏´‡πâ pin sensor ‡πÄ‡∏õ‡πá‡∏ô INPUT
  pinMode(Sensor, INPUT);
 
  // ‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤ Interrupt ‡πÉ‡∏ô‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡πà‡∏ô
  attachInterrupt(digitalPinToInterrupt(Sensor), IRSensordetects, FALLING);
 
  // ‡∏Å‡∏≥‡∏´‡∏ô‡∏î‡πÉ‡∏´‡πâ LED ‡πÄ‡∏õ‡πá‡∏ô OUTPUT
  pinMode(led, OUTPUT);
  digitalWrite(led, State_led);
}
 
void loop() {
  // ‡∏Å‡∏£‡∏∞‡∏û‡∏£‡∏¥‡∏ö LED ‡∏ó‡∏∏‡∏Å 500 ms ‡∏ñ‡πâ‡∏≤‡πÑ‡∏°‡πà‡∏û‡∏ö‡∏ß‡∏±‡∏ï‡∏ñ‡∏∏
  if ((led_time <= millis()) && (!Sensor_Check)) {
    led_time = millis() + 500;
    State_led = !State_led;
    digitalWrite(led, State_led);
  }
 
  // ‡∏ñ‡πâ‡∏≤‡∏û‡∏ö‡∏ß‡∏±‡∏ï‡∏ñ‡∏∏ ‚Üí LED ‡∏™‡∏ß‡πà‡∏≤‡∏á‡∏Ñ‡πâ‡∏≤‡∏á 5 ‡∏ß‡∏¥‡∏ô‡∏≤‡∏ó‡∏µ
  now_time = millis();
  if (Sensor_Check) {
    State_led = 1;
    digitalWrite(led, State_led);
    Serial.println("SENSOR DETECTED");
    delay(100);
 
    if (now_time >= lasttime_trigger) {
      Sensor_Check = false;
      State_led = 0;
      digitalWrite(led, State_led);
    }
  }
}
